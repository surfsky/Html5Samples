<html>
<head>
    <meta charset="utf-8">
    <title>自适应高度 & 自动居中</title>
    <style type="text/css">
    * {margin:0;padding:0px;}
    #container{
        margin:0px;
        padding:0px;
        background:#0066cc;
    }
    #block{
        position:relative;top:0px;left:0px;
        background:#ff66cc;
        width: 200px;
        height: 50px;
    }
    #info{
        margin:10px;
        color: white;
    }
    </style>
</head>

<body>
    <div id="container" >
        <div id="block" >
            <div id="info" ></div>
        </div>
    </div>
    
    
    <script type="text/javascript">
        
    // 自适应
    function autoResize(){
        // 找到窗体当前高度
        var winHeight;
        if (window.innerHeight){
            winHeight = window.innerHeight;
        }else{
            winHeight = document.documentElement.clientHeight;
        }
        
        // 设置高度
        var container = document.getElementById('container');
        var block = document.getElementById('block');
        container.style.height = winHeight;
        setCenter(block, container);
        showInfo();
    }
    
    // 设置元素在容器中居中
    function setCenter(ele, container){
        var w1 = ele.offsetWidth;
        var h1 = ele.offsetHeight;
        var w2 = container.offsetWidth;
        var h2 = container.offsetHeight;
        
        ele.style.left = (w2 - w1)/2 + "px";
        ele.style.top = (h2 - h1)/2  + "px";
    }

    // 显示文本信息    
    function showInfo(){
        var info = document.getElementById('info');
        info.innerText = block.style.left + ", " + block.style.top;
    }
    
    //
    window.onload = autoResize;
    window.onresize = autoResize;
    </script>
</body>
</html>
